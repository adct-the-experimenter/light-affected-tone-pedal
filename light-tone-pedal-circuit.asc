Version 4
SHEET 1 5352 1764
WIRE 4304 -176 4288 -176
WIRE 4352 -176 4304 -176
WIRE 4208 -112 4192 -112
WIRE 4304 -112 4304 -176
WIRE 4304 -112 4272 -112
WIRE 4368 -112 4304 -112
WIRE 4704 -112 4704 -128
WIRE 4752 -112 4704 -112
WIRE 4880 -112 4832 -112
WIRE 4368 -80 4368 -112
WIRE 3360 -48 3200 -48
WIRE 4704 0 4704 -112
WIRE 4752 0 4704 0
WIRE 4880 16 4880 -112
WIRE 4880 16 4816 16
WIRE 5072 16 4880 16
WIRE 3200 32 3200 -48
WIRE 3232 32 3200 32
WIRE 4752 32 4720 32
WIRE 5072 32 5072 16
WIRE 5072 32 5056 32
WIRE 3360 48 3360 -48
WIRE 3360 48 3296 48
WIRE 3872 48 3360 48
WIRE 3968 48 3968 16
WIRE 3968 48 3872 48
WIRE 4368 48 4368 0
WIRE 4480 48 4368 48
WIRE 4608 48 4608 32
WIRE 4608 48 4544 48
WIRE 4720 48 4720 32
WIRE 4720 48 4608 48
WIRE 2768 64 2640 64
WIRE 2960 64 2960 0
WIRE 2960 64 2832 64
WIRE 3232 64 2960 64
WIRE 4608 64 4608 48
WIRE 4368 80 4368 48
WIRE 4784 80 4784 48
WIRE 3968 96 3968 48
WIRE 4192 96 4192 -112
WIRE 4192 96 3968 96
WIRE 4208 96 4192 96
WIRE 4320 96 4288 96
WIRE 5072 128 5072 96
WIRE 2960 144 2960 64
WIRE 4320 144 4320 96
WIRE 4320 144 4176 144
WIRE 3264 160 3264 80
WIRE 4176 192 4176 144
WIRE 4208 192 4176 192
WIRE 4320 192 4288 192
WIRE 4368 192 4368 160
WIRE 4368 192 4320 192
WIRE 4320 224 4320 192
WIRE 5072 224 5072 208
WIRE 5120 224 5072 224
WIRE 5072 240 5072 224
WIRE 3600 352 3520 352
WIRE 3728 352 3680 352
WIRE 3776 352 3728 352
WIRE 3520 400 3520 352
WIRE 3728 400 3728 352
FLAG 3264 16 VCC
FLAG 3520 480 0
FLAG 3776 352 VCC
FLAG 2944 544 0
FLAG 2944 464 Vin
FLAG 5056 32 Vout3
FLAG 4288 -256 0
FLAG 4320 288 0
FLAG 4352 -256 0
FLAG 2640 64 Vin
FLAG 5072 320 0
FLAG 5120 224 Vout_final
FLAG 3264 160 0
FLAG 2960 -80 VCC
FLAG 2960 224 0
FLAG 4784 -16 VCC
FLAG 3872 48 Vout2
FLAG 4784 80 0
FLAG 4608 -48 VCC
FLAG 4608 144 0
FLAG 4704 -272 0
FLAG 3728 464 0
SYMBOL Opamps\\UniversalOpamp2 3264 48 R0
SYMATTR InstName U2
SYMBOL voltage 3520 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage 2944 448 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1 0
SYMATTR SpiceLine Rser=1Meg
SYMATTR InstName V2
SYMATTR Value SINE(0 0.2 1k)
SYMBOL res 4272 -272 R0
WINDOW 0 -82 40 Left 2
WINDOW 3 -66 76 Left 2
SYMATTR InstName Rhigh
SYMATTR Value 24k
SYMBOL res 4304 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rlow
SYMATTR Value 24k
SYMBOL cap 4304 224 R0
SYMATTR InstName Clow
SYMATTR Value 0.022µ
SYMBOL cap 4272 -128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Chigh
SYMATTR Value 5600p
SYMBOL res 4352 -96 R0
SYMATTR InstName RPOT1
SYMATTR Value {Z}
SYMBOL res 4352 64 R0
SYMATTR InstName RPOT2
SYMATTR Value {50k-Z}
SYMBOL res 4336 -272 R0
SYMATTR InstName LDRhigh
SYMATTR Value {X}
SYMBOL res 4304 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LDRlow
SYMATTR Value {Y}
SYMBOL cap 5056 32 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 5056 112 R0
SYMATTR InstName RVol1
SYMATTR Value 500k
SYMBOL res 5056 224 R0
SYMATTR InstName RVol2
SYMATTR Value 500k
SYMBOL res 2944 -96 R0
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL res 2944 128 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL cap 2832 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL Opamps\\UniversalOpamp2 4784 16 R0
SYMATTR InstName U3
SYMBOL res 4592 48 R0
SYMATTR InstName R7
SYMATTR Value 1Meg
SYMBOL res 4592 -64 R0
SYMATTR InstName R8
SYMATTR Value 1Meg
SYMBOL cap 4544 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMBOL res 4720 -112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 4736 -96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cap 4688 -272 R0
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL cap 3712 400 R0
SYMATTR InstName C4
SYMATTR Value 100µ
SYMBOL res 3696 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 200
TEXT 3872 568 Left 2 !.step param X 3k 10k 1k
TEXT 3888 400 Left 2 !.ac dec 10 1 1G
TEXT 4712 -432 Left 2 ;f3db = 1 / (2*pi*Rpole*Cpole)
TEXT 4664 -504 Left 2 ;Vout / Vin = (1 + (Rf / Rg)) * ( 1 /  ( 1 + s*Rpole*Cpole) )
TEXT 4224 568 Left 2 !.step param Y 3k 10k 1k
TEXT 3888 536 Left 2 !*.param X  3k
TEXT 4232 528 Left 2 !*.param Y=3k
TEXT 4584 520 Left 2 !.param Z=30k
TEXT 4592 568 Left 2 !*.step param Z 1k 9.9k 1k
TEXT 2016 736 Left 2 ;https://www.digikey.com/products/en/sensors-transducers/optical-sensors-photo-detectors-cds-cells/540?k=light+dependent+resistor&k=&pkeyword=light+dependent+resistor&sv=0&pv732=4&sf=0&quantity=&ColumnSort=0&page=1&stock=1&datasheet=1&pageSize=25
TEXT 4312 400 Left 2 !.tran 0 50ms 0 1ms
TEXT 4152 400 Left 2 !.op
TEXT 2616 376 Left 2 ;*Important Note: Signal starts clipping at bottom if Rin < 50k
